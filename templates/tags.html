{% extends 'base.html' %}
{% set active_page = 'tags' %}

{% block content %}
    <h2>{% block title %} Tags {% endblock %}</h2>
    <div class="container text-center">
        {% for t in tags %}
            <form action="{{ url_for('edit_tag', tag_id=t.id) }}" method="POST">
                <div class="d-flex flex-row bd-highlight mb-3">
                    <div class="p-2 bd-highlight">
                        <input type="text" name="name" placeholder="Tag name" class="form-control" value="{{ t.name }}">
                    </div>
                    <div class="p-2 bd-highlight">
                        <input type="color" name="color" placeholder="Color" class="form-control"
                               value="{{ t.color or '0000FFFF' }}">
                    </div>
                    <div class="p-2 bd-highlight">
                        <input type="submit" value="Update" class="btn btn-primary btn-sm">
                    </div>
            </form>
            <div class="p-2 bd-highlight">
                <form action="{{ url_for('delete_tag', tag_id=t.id) }}" method="POST">
                    <input type="submit" value="Delete" class="btn btn-danger btn-sm"
                           onclick="return confirm('Are you sure you want to delete this tag?')">
                </form>
            </div>
            </div>
        {% endfor %}

    <form action="{{ url_for('add_tag') }}" method="POST">
        <div class="d-flex flex-row bd-highlight mb-3">
            <div class="p-2 bd-highlight">
                <input type="text" name="name" placeholder="New tag name" class="form-control"
                       value="{{ request.form['name'] }}">
            </div>
            <div class="p-2 bd-highlight">
                <input type="color" name="color" placeholder="Color" class="form-control"
                       value="{{ request.form['color'] }}">
            </div>
            <div class="p-2 bd-highlight">
                <input type="submit" value="Add" class="btn btn-primary btn-sm">
            </div>
        </div>
    </form>
    </div>
{% endblock %}